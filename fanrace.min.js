(function(){var g,f,e,i,c=false,b={},j,a,h,d;i=function(){$(".allContainer").fadeIn(3000);setTimeout(f,0);setTimeout(function(){$(".footer").css("height",40)},5000);c=true};checkMissingLikes=function(k,l){$(".missingLikes").text((l-k).toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."));if(!$("iframe.celebration").attr("src").length){if(k>=l){$("iframe.celebration").attr("src","//www.youtube-nocookie.com/embed/"+h+"?rel=0&amp;autoplay=1")}}};g=function(){$(".allContainer").css("marginTop",($(window).height()-$(".allContainer").height())/2)};f=function(){if(!c){return}var l=$(".likes").width(),k=Math.max($(".likes .fancount").eq(0).width(),$(".likes .fancount").eq(1).width()||0),m=100,n=0;do{m+=3;$(".likes span").css("fontSize",m);l=$(".likes").width();k=Math.max($(".likes .fancount").eq(0).width(),$(".likes .fancount").eq(1).width()||0);n++}while(l>k&&n<500);$("body").css("fontSize",Math.round(m/4));g()};e=function(){var l=b.we||"diesocialisten",m=b.vs||b.goal||"LastfmScrobbler",k=b.nohelp||false;d=b.mode||"standard";h=b.party||"04854XqcfCY";if(!k){$(".footer").show()}if(d==="single"){$("body").addClass("mode-single");m=parseInt(m,10)||15000}$.ajax({url:"https://graph.facebook.com/"+l+"?fields=likes,name&locale=en_US",dataType:"json",success:function(o){var p=parseInt(o.likes,10),n;$(".ourLikes .fancount").text(p.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."));if(!c){if(!isNaN(l)||(""+l.length)+3>=o.name.length){n=o.name}else{n=l}$(".ourLikes a").text(n);$(".ourLikes a").attr("href","https://www.facebook.com/"+l)}if(d==="single"){if(!c){i()}checkMissingLikes(p,m)}else{$.ajax({url:"https://graph.facebook.com/"+m+"?fields=likes,name&locale=en_US",dataType:"json",success:function(q){if(!c){if(!isNaN(m)||(""+m.length)>=q.name.length){n=q.name}else{n=m}$(".otherLikes a").text(n);$(".otherLikes a").attr("href","https://www.facebook.com/"+m);i()}var r=parseInt(q.likes,10);$(".otherLikes .fancount").text(r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."));checkMissingLikes(p,r)},error:function(q){clearInterval(a);if(!c){$(".allContainer").html("The <strong>"+m+"</strong> fan page was not found. Try another value for the vs parameter!").show()}}})}},error:function(n){clearInterval(a);if(!c){$(".allContainer").html("The <strong>"+l+"</strong> fan page was not found. Try another value for the we parameter!").show()}}})};$(window).on("resize",f);$(document).on("click","#showInstructionsLink",function(){var k=$(".footer"),l=k.find(".infos").outerHeight();if(k.height()===l){k.css("height",40)}else{k.css("height",l)}return false});a=setInterval(function(){e()},5000);j=location.search.replace(/\?/,"").split("&");$.each(j,function(){var k=this.split("=")[0],l=this.split("=")[1];b[k]=l});e()}());